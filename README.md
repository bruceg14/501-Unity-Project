# 501-Unity-Project

## The repository is organized in three parts: Blueprint, CS, and UVS, each representing a language

## Blueprint directory
This directory contains all the codes needed for the generation of Unreal Engine Blueprint control flow graph.


The **blueprint/blueprint_CFG.py** is a python file that generate CFG for the files stored in the blueprint_graphs_Uber.json.

To run this file, cd into the blueprint directory. Then run 
```bash
python blueprint_CFG.py
```

The **blueprint_graph_generate.py** is a file to display a single graph from the **blueprint_graphs_Uber.json**. You need to adjust the *result* variable in the main function.

The **blueprint_graphs_Uber.json** is a file that store the Blueprint graphs in JSON format. Generated by blueprint_graph_generate.py.

The **file_extraction.py** is a file to generate a JSON that store the Blueprint files. To use this you have to download the dataset of this website: https://zenodo.org/records/14247703. Then adjust the path in the file to make sure it is accessed.


## cs directory
Functional component to generate CFG and calculate CC is located in the **cs/ControlFlowGraph/Program.cs**. The **Test.cs** in that directory is just for the testing of the CFG generator. 

The files I used  to calculate CC are stored in the **cs/ControlFlowGraph/transformed_files

To run the CC calculation, cd into the cs/ControlFlowGraph/. Then run
```bash
dotnet run
```

The **search_unity_cs.sh** is what I used to search and extract Unity C# files. However, this can only be run inside a WoC server and not locally.

The **cs_projects.txt** is a files generated by the **search_unity_cs.sh**

## UVS directory
The UVS files are stored in the **UVS/files/**. The **UVS/parsed_graphs/** store pdfs of the UVS files with branching node generated by the **UVS/generate_UVS_graphs.py**

The program that calculate the CC for the UVS files is in the **UVS_CFG_generation.py**. To run this file, cd into UVS/. Then run 
```bash
python UVS_CFG_generation.py
```

The **unity_parser.py** is the file that is used to parser the UVS files into a nodes and edges format. 

The **test.asset** is a UVS file I created that contain some brnaching statement used for testing the CFG generator. 

The **cyclomatic_complexity.py** contain a program to calculate the CC for a file. 
